# go-dappley-commit-report
The go-dappley-commit-report program is encharge of extracting fail case information from the test result files generated by the go-dappley-local-tester or the go-dappley-single-server-tester pipeline tasks and send those information to the DappWorks staffs.

When there is a fail case in the test results, the program compiles an email with the extracted information and sends out 2 separate emails for each branch, containing the commit information, failing test cases and the log.txt from testing to Dappworks senior developers and the latest committer of each branch. Otherwise the program will not send out any email.

### Pipeline:
```
pipeline {
    agent any
    tools {
        go 'go-1.16.6'
    }
    environment {
        GO1166MODULE = 'on'
    }
    stages {
        stage('SCM Checkout') {
            steps {
                git 'https://github.com/heesooh/go-dappley-commit-report'
            }
        }
        stage('Compile') {
            steps {
                sh 'go mod init github.com/heesooh/go-dappley-commit-report'
                sh 'go mod tidy'
                sh 'go build'
            }
        }
        stage('Deploy') {
            steps {
                sh "./go-dappley-commit-report -senderEmail <Sender Email> -senderPasswd <Sender Email Password>"
            }
        }
        stage('Close') {
            steps {
                sh 'rm -r *'
            }
        }
    }
}
```